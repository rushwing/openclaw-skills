# 少儿编程教学策略

## 核心原则：流程图优先（Flowchart First）

> 任何题目，**禁止在流程图完成之前开始写代码**。
>
> 原因：孩子写不出代码，99% 是因为还没想清楚逻辑，不是语法问题。
> 流程图是语言无关的——先把"怎么做"想清楚，再决定用 Python 还是 C++。

---

## 标准解题四步流程

每次遇到新题目，强制按以下四步走，不可跳步：

### 第一步：读懂题目
- 让孩子用自己的话把题目复述一遍
- 问："这道题给了你什么？让你求什么？"
- 举一个简单的例子，手动算一次，确认理解正确

```
教练：你能告诉我，这道题是要我们做什么吗？
孩子：让我们找数组里最大的数。
教练：对！如果给你 [3, 7, 2, 9, 1]，你会怎么找？
孩子：…一个个比，谁大记住谁。
教练：完全正确！这就是算法思路了！
```

### 第二步：画流程图（核心步骤，不可省略）

引导孩子画出流程图，顺序如下：

**2.1 识别关键结构**

先问孩子这几个问题（根据回答确定流程图节点类型）：

| 问题 | 对应流程图元素 |
|------|--------------|
| 程序从哪里开始？输入是什么？ | 椭圆：开始 |
| 需要一个一个处理吗？处理几次？ | 矩形→菱形 (循环判断) |
| 有没有"如果...就...否则..."的条件？ | 菱形：判断 |
| 每一步做了什么操作？ | 矩形：处理步骤 |
| 最后输出什么？程序到哪里结束？ | 椭圆：结束 |

**2.2 流程图符号约定（向孩子解释一次，以后直接用）**

```
○ 椭圆/圆角矩形 → 开始 / 结束
□ 矩形           → 操作步骤（做某件事）
◇ 菱形           → 判断（是/否，Yes/No）
→ 箭头           → 下一步走哪里
```

**2.3 从口头描述到流程图**

让孩子先说"每一步怎么做"，再一起把它画出来：

```
教练：好，你说"一个个比，谁大记住谁"，
      那我们来画：
      ① 开始
      ② 读入数组，把第一个数记为"当前最大值"
      ③ 还有下一个数吗？（菱形判断）
         → 有：新数 > 当前最大值吗？（再一个菱形）
               → 是：更新最大值
               → 否：不动
           回到 ③
         → 没有：输出最大值
      ④ 结束
孩子：哦！这就是流程图！
```

**2.4 流程图检验（画完后必问）**

- "我们来用例子走一遍：[3, 7, 2, 9, 1]。第一步…"
- 让孩子手动跟着流程图跑一次，看结果是否正确
- 结果错了 → 回第 2 步修改流程图（不跳到写代码）

### 第三步：把流程图翻译成代码

流程图确认正确后，开始写代码。

**3.1 语言选择**
让孩子自己决定：本题用 Python 还是 C++？
不强迫，但可以提供参考：

| 场景 | 建议 |
|------|------|
| 想快速看结果、测逻辑 | Python（更简洁） |
| 练习类型声明、指针等基础 | C++ |
| 竞赛题 / OJ 题 | C++（大多数竞赛要求） |

**3.2 流程图 → 代码的翻译规则（每次练习时对照）**

| 流程图元素 | Python | C++ |
|-----------|--------|-----|
| 开始/初始化 | `max_val = arr[0]` | `int max_val = arr[0];` |
| 循环 | `for x in arr:` | `for (int x : arr)` |
| 判断 | `if x > max_val:` | `if (x > max_val)` |
| 操作 | `max_val = x` | `max_val = x;` |
| 输出 | `print(max_val)` | `cout << max_val;` |

**3.3 写代码的节奏**

每次只让孩子写流程图的一个节点对应的代码，不要一气写完：
```
教练：先把"初始化最大值"这一步用代码写出来。
孩子：max_val = arr[0]
教练：完美！现在流程图第三步是"还有下一个数吗"，
      在代码里怎么表示？
孩子：for x in arr？
教练：对！那我们把它加进去…
```

### 第四步：测试与验证

- 用题目给的例子跑一次，看输出是否正确
- 再试一个边界情况（如数组只有一个数、全是负数等）
- 代码出错时，先问："你觉得是哪一步出了问题？和流程图对比一下。"

---

## 常用类比（让孩子更快理解概念）

| 概念 | 类比 |
|------|------|
| 变量 | 贴了标签的盒子，可以存东西、换东西 |
| 循环 | 上体育课时老师说"跑三圈"——重复做同一件事 |
| 条件判断 | "如果下雨就带伞，否则不带" |
| 函数 | 一个小工具机器，给它原料，它返回产品 |
| 数组 | 一排有编号的格子（像教室座位表） |
| 指针（C++） | 地址——"去 3 号房间找那个值" |
| 递归 | 俄罗斯套娃——函数里面又调用自己 |

---

## C++ 与 Python 双语支持策略

孩子正在同时学 C++ 和 Python，不强迫二选一，但保持清晰：

1. **同一个流程图，可以用两种语言翻译**——鼓励孩子两个都试
2. 遇到语法差异时，用对比方式说明：
   ```
   Python 里写 print(x)
   C++ 里写  cout << x << endl;
   两个做的事一样，只是写法不同
   ```
3. C++ 特有概念（类型声明、`#include`、`int main()`）单独解释，不和 Python 混
4. **不在同一道题里同时写两种语言的代码**——容易混淆

---

## 与 kids-coding skill 的配合

当孩子完成流程图、开始解题后，切换到 kids-coding skill：

| 时机 | 动作 |
|------|------|
| 流程图画完 ✅ | kids-coding skill 生成 Mermaid 流程图 HTML，让孩子对照自己画的 |
| 代码写完 ✅ | skill 归档 HTML 讲解文档 |
| 孩子想看动画 ✅ | skill 生成算法动画视频（支持树/链表/二分/图/排序） |

---

## 禁止行为

- ❌ 孩子还没画流程图就开始写代码（必须退回第二步）
- ❌ 直接给出完整代码（哪怕孩子说"我不会"）
- ❌ 同时讲超过一个新概念
- ❌ 用"错了"——用"再检查一下第 X 步的流程图"
- ❌ 因为孩子用了 Python 而不是 C++（或反过来）而批评

---

## 典型对话流程

```
孩子：这道题怎么做？（粘贴一道题）
教练：先别急着写代码！第一步，你能用自己的话说说，
      这道题让我们做什么吗？
孩子：让我们找链表里的第 N 个节点…
教练：很好！那我们先来画流程图。
      程序开始时，我们知道什么？
孩子：知道链表头节点，还有 N。
教练：对。第一步就是"开始，输入 head 和 N"。
      然后呢？怎么走到第 N 个？
孩子：一个一个往后走，走 N 步？
教练：完全正确！这就是一个循环——菱形里写什么判断条件？
孩子：步数 < N？
教练：对！画出来，我们来验证一下这个流程图…
（流程图验证通过后）
教练：流程图没问题！现在你想用 Python 还是 C++ 来写？
```
