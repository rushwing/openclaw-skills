{
  "_comment": "äºŒå‰æ ‘ç®—æ³•åˆ†é•œæ¨¡æ¿ â€” é€‚ç”¨äºï¼šå‰/ä¸­/ååºéå†ã€å±‚åºéå†(BFS)ã€BSTæ’å…¥/æŸ¥æ‰¾ã€LCA",
  "_usage": "å°†æ­¤æ¨¡æ¿å¡«å…¥ storyboard.jsonï¼Œæ›¿æ¢æ‰€æœ‰ FILL_IN å ä½ç¬¦",
  "title": "FILL_IN_é¢˜ç›®åç§°ï¼ˆå¦‚ï¼šäºŒå‰æ ‘ä¸­åºéå†ï¼‰",
  "subject": "ç®—æ³•",
  "algorithm_type": "binary_tree",
  "operation": "FILL_INï¼ˆinorder_traversal/preorder/postorder/level_order/insert/searchï¼‰",
  "segments": [
    {
      "id": "intro",
      "segment_no": 1,
      "type": "title_card",
      "duration_hint_s": "4~6",
      "narration": "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€ŒFILL_IN_ç®—æ³•åã€ï¼Œå£è¯€æ˜¯ï¼šFILL_IN_å£è¯€ã€‚",
      "narration_examples": {
        "inorder":    "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œä¸­åºéå†ã€ï¼Œå£è¯€æ˜¯ï¼šå·¦â†’æ ¹â†’å³ã€‚",
        "preorder":   "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œå‰åºéå†ã€ï¼Œå£è¯€æ˜¯ï¼šæ ¹â†’å·¦â†’å³ã€‚",
        "postorder":  "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œååºéå†ã€ï¼Œå£è¯€æ˜¯ï¼šå·¦â†’å³â†’æ ¹ã€‚",
        "level_order":"ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œå±‚åºéå†ã€ï¼Œå£è¯€æ˜¯ï¼šä¸€å±‚ä¸€å±‚ï¼Œä»å·¦åˆ°å³ã€‚",
        "insert_bst": "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€ŒäºŒå‰æœç´¢æ ‘æ’å…¥ã€ï¼Œå£è¯€æ˜¯ï¼šå°çš„å¾€å·¦ï¼Œå¤§çš„å¾€å³ã€‚"
      },
      "visual": {
        "layout": "å±…ä¸­é“ºæ»¡",
        "elements": [
          {
            "role": "ä¸»æ ‡é¢˜",
            "text": "FILL_IN_ç®—æ³•åç§°",
            "style": "font_size=52, BOLD, WHITE"
          },
          {
            "role": "å‰¯æ ‡é¢˜/å£è¯€",
            "text": "FILL_IN_å£è¯€",
            "style": "font_size=28, C_MUTED"
          }
        ],
        "animation_sequence": [
          "FadeIn(ä¸»æ ‡é¢˜, shift=UP*0.3), run_time=0.8",
          "FadeIn(å‰¯æ ‡é¢˜), run_time=0.5",
          "wait(çº¦3ç§’)",
          "FadeOut(VGroup)"
        ]
      }
    },
    {
      "id": "problem",
      "segment_no": 2,
      "type": "text_card",
      "duration_hint_s": "10~16",
      "narration": "FILL_IN_å®Œæ•´æœ—è¯»é¢˜ç›®ã€‚åŒ…æ‹¬æ ‘çš„ç»“æ„æè¿°å’Œéœ€è¦å®Œæˆçš„æ“ä½œã€‚",
      "narration_examples": {
        "inorder": "ç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæ ¹èŠ‚ç‚¹å€¼ä¸º1ï¼Œå·¦å­èŠ‚ç‚¹å€¼ä¸º2ï¼Œå³å­èŠ‚ç‚¹å€¼ä¸º3ã€‚èŠ‚ç‚¹2çš„å·¦å­èŠ‚ç‚¹å€¼ä¸º4ï¼Œå³å­èŠ‚ç‚¹å€¼ä¸º5ã€‚è¯·å†™å‡ºä¸­åºéå†çš„ç»“æœã€‚"
      },
      "visual": {
        "layout": "å±…ä¸­å¸¦åœ†è§’æ·±è“å¡ç‰‡",
        "card_style": "fill=#1e3a5f, stroke=#3b82f6",
        "elements": [
          {
            "role": "è§’æ ‡ç­¾",
            "text": "é¢˜  ç›®",
            "style": "font_size=18, C_MUTED, to_corner(UL)"
          },
          {
            "role": "é¢˜ç›®æ–‡æœ¬",
            "lines": [
              "FILL_IN_ç¬¬ä¸€è¡Œï¼ˆæ ‘ç»“æ„æè¿°ï¼Œå¦‚ï¼šç»™å®šå¦‚ä¸‹äºŒå‰æ ‘ï¼‰",
              "FILL_IN_ç¬¬äºŒè¡Œï¼ˆèŠ‚ç‚¹å€¼ï¼Œå¦‚ï¼šæ ¹èŠ‚ç‚¹å€¼ä¸º1ï¼Œå·¦å­èŠ‚ç‚¹å€¼ä¸º2ï¼Œå³å­èŠ‚ç‚¹å€¼ä¸º3ï¼‰",
              "FILL_IN_ç¬¬ä¸‰è¡Œï¼ˆå·²çŸ¥æ¡ä»¶ï¼Œå¦‚ï¼šèŠ‚ç‚¹2çš„å·¦å³å­èŠ‚ç‚¹åˆ†åˆ«ä¸º4å’Œ5ï¼‰",
              "FILL_IN_ç¬¬å››è¡Œï¼ˆæ±‚ä»€ä¹ˆï¼Œå¦‚ï¼šè¯·å†™å‡ºä¸­åºéå†çš„é¡ºåºï¼‰"
            ],
            "style": "font_size=26, C_TEXT, å·¦å¯¹é½, è¡Œé—´è·0.35"
          }
        ],
        "animation_sequence": [
          "FadeIn(è§’æ ‡ç­¾)",
          "DrawBorderThenFill(å¡ç‰‡)",
          "FadeIn(æ–‡å­—, shift=UP*0.1)",
          "wait(çº¦10ç§’)",
          "FadeOut(å…¨éƒ¨)"
        ]
      }
    },
    {
      "id": "draw",
      "segment_no": 3,
      "type": "tree_draw",
      "duration_hint_s": "7~10",
      "narration": "FILL_IN_æè¿°ç”»æ ‘è¿‡ç¨‹ã€‚å…ˆå‡ºç°æ ¹èŠ‚ç‚¹ï¼Œç„¶åé€ä¸ªæ·»åŠ å­èŠ‚ç‚¹ã€‚",
      "narration_example": "æˆ‘ä»¬å…ˆæŠŠè¿™æ£µæ ‘ç”»å‡ºæ¥ã€‚æ ¹èŠ‚ç‚¹1åœ¨æœ€ä¸Šé¢ï¼Œå®ƒçš„å·¦è¾¹æ˜¯èŠ‚ç‚¹2ï¼Œå³è¾¹æ˜¯èŠ‚ç‚¹3ã€‚èŠ‚ç‚¹2è¿˜æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå·¦è¾¹æ˜¯4ï¼Œå³è¾¹æ˜¯5ã€‚",
      "visual": {
        "layout": "æ ‘å½¢å±…ä¸­ï¼ˆæ•´ä½“åå·¦xâ‰ˆ-0.5ï¼Œä¸ºå³ä¾§é¢„ç•™å…¬å¼ç©ºé—´ï¼‰",
        "coordinate_system": "Manimåæ ‡ï¼Œæ ¹èŠ‚ç‚¹y=2ï¼Œç¬¬äºŒå±‚y=0.5ï¼Œç¬¬ä¸‰å±‚y=-1ï¼Œæ°´å¹³é—´è·1.5",
        "manim_objects": {
          "node": "make_node(val, pos)  â†’ VGroup(Circle(r=0.35), Text(val))",
          "edge": "make_edge(parent_pos, child_pos)  â†’ Line",
          "storage": "self._tree_nodes = {id: node_VGroup}ï¼Œself._tree_edges = [Line, ...]"
        },
        "node_layout_examples": {
          "5_nodes": {
            "root": [0, 2, 0],
            "left_child": [-1.5, 0.5, 0],
            "right_child": [1.5, 0.5, 0],
            "left_left": [-2.5, -1, 0],
            "left_right": [-0.5, -1, 0]
          },
          "7_nodes": {
            "root": [0, 2.5, 0],
            "left": [-2, 1, 0],
            "right": [2, 1, 0],
            "ll": [-3, -0.5, 0],
            "lr": [-1, -0.5, 0],
            "rl": [1, -0.5, 0],
            "rr": [3, -0.5, 0]
          }
        },
        "animation_sequence": [
          "å…ˆç”»æ‰€æœ‰è¾¹ï¼šself.play(*[Create(e) for e in self._tree_edges], run_time=0.8)",
          "å†ç”»æ‰€æœ‰èŠ‚ç‚¹ï¼šself.play(*[FadeIn(n) for n in self._tree_nodes.values()], run_time=0.8)",
          "wait(çº¦5ç§’)"
        ],
        "note": "self._tree_nodes å’Œ self._tree_edges å¿…é¡»åœ¨æ­¤æ®µæœ«å°¾èµ‹å€¼å®Œæ¯•"
      }
    },
    {
      "id": "operation_1",
      "segment_no": 4,
      "type": "tree_traverse_start",
      "duration_hint_s": "7~10",
      "narration": "FILL_IN_èµ·å§‹æ“ä½œæè¿°ã€‚è¯´æ˜ä»å“ªä¸ªèŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰ä»€ä¹ˆæ–¹å‘èµ°ã€‚",
      "narration_examples": {
        "inorder": "ä¸­åºéå†å…ˆä¸æ€¥ç€è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä¸€ç›´å¾€å·¦èµ°ï¼Œæ‰¾åˆ°æœ€å·¦è¾¹çš„å¶å­èŠ‚ç‚¹ï¼Œä»é‚£é‡Œå¼€å§‹è®¿é—®ã€‚",
        "preorder": "å‰åºéå†å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åå†å»å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘ã€‚",
        "level_order": "å±‚åºéå†ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼ŒæŠŠå®ƒæ”¾è¿›ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åä¸€å±‚ä¸€å±‚åœ°å¾€ä¸‹èµ°ã€‚"
      },
      "visual": {
        "layout": "æ ‘å½¢ä¿ç•™ï¼Œé«˜äº®èµ·å§‹èŠ‚ç‚¹",
        "elements": [
          {
            "role": "èµ·å§‹èŠ‚ç‚¹é«˜äº®",
            "action": "set_node_state(èµ·å§‹èŠ‚ç‚¹, 'current') + Indicate(scale=1.3)",
            "target_node": "FILL_IN_èµ·å§‹èŠ‚ç‚¹idï¼ˆä¸­åºéå†ï¼šæœ€å·¦å¶å­èŠ‚ç‚¹ï¼›å‰åº/å±‚åºï¼šæ ¹èŠ‚ç‚¹ï¼‰"
          },
          {
            "role": "è¯´æ˜æ–‡å­—",
            "text": "FILL_IN_è¯´æ˜æ–‡å­—ï¼ˆå¦‚ï¼šä»è¿™é‡Œå¼€å§‹ï¼ï¼‰",
            "style": "font_size=26, C_AMBER_STK, BOLD, to_edge(DOWN, buff=0.8)"
          }
        ],
        "animation_sequence": [
          "self.play(set_node_state(start, 'current'), run_time=0.4)",
          "self.play(Indicate(start, scale_factor=1.3), run_time=0.6)",
          "self.play(FadeIn(caption), run_time=0.4)",
          "wait(çº¦5ç§’)",
          "self.play(FadeOut(caption), run_time=0.3)"
        ]
      }
    },
    {
      "id": "operation_2",
      "segment_no": 5,
      "type": "tree_traverse_steps",
      "duration_hint_s": "16~24",
      "narration": "FILL_IN_é€æ­¥æè¿°éå†è¿‡ç¨‹ã€‚æŒ‰è®¿é—®é¡ºåºè¯´æ¯ä¸ªèŠ‚ç‚¹ï¼Œæåˆ°å›æº¯ã€‚ä¸è¶…è¿‡80å­—ã€‚",
      "narration_examples": {
        "inorder_5nodes": "ä¸­åºéå†å…ˆèµ°åˆ°æœ€å·¦è¾¹ï¼Œæ‰¾åˆ°å¶å­èŠ‚ç‚¹4ï¼Œè®¿é—®å®ƒï¼Œç¼–å·â‘ ã€‚å†è¿”å›èŠ‚ç‚¹2ï¼Œè®¿é—®ï¼Œç¼–å·â‘¡ã€‚ç„¶åå»èŠ‚ç‚¹5ï¼Œè®¿é—®ï¼Œç¼–å·â‘¢ã€‚æœ€åæ˜¯æ ¹èŠ‚ç‚¹1ï¼Œç¼–å·â‘£ï¼Œå†å»å³è¾¹çš„èŠ‚ç‚¹3ï¼Œç¼–å·â‘¤ã€‚",
        "preorder_5nodes": "å‰åºéå†å…ˆè®¿é—®æ ¹èŠ‚ç‚¹1ï¼Œç¼–å·â‘ ã€‚ç„¶åå»å·¦å­æ ‘ï¼Œè®¿é—®èŠ‚ç‚¹2ï¼Œç¼–å·â‘¡ã€‚å†ç»§ç»­å»èŠ‚ç‚¹4ï¼Œç¼–å·â‘¢ï¼Œè¿”å›åå»èŠ‚ç‚¹5ï¼Œç¼–å·â‘£ã€‚æœ€åå»å³è¾¹çš„èŠ‚ç‚¹3ï¼Œç¼–å·â‘¤ã€‚"
      },
      "visual": {
        "layout": "æ ‘å½¢ä¿ç•™ï¼Œé€æ­¥é«˜äº®å½“å‰èŠ‚ç‚¹ï¼Œå·²è®¿é—®èŠ‚ç‚¹å˜è“",
        "traversal_order": "FILL_IN_æŒ‰éå†é¡ºåºå¡«å†™èŠ‚ç‚¹idåˆ—è¡¨ï¼ˆå¦‚ï¼š[D, B, E, A, C] è¡¨ç¤ºä¸­åºï¼‰",
        "visit_actions_per_node": [
          "1. set_node_state(å½“å‰èŠ‚ç‚¹, 'current') + Indicate(scale=1.3), run_time=0.5",
          "2. wait(0.5) â€” è®©è§‚ä¼—çœ‹æ¸…å½“å‰èŠ‚ç‚¹",
          "3. set_node_state(å½“å‰èŠ‚ç‚¹, 'visited') + FadeIn(visit_badge(order)), run_time=0.4",
          "4. è‹¥éœ€è¦å›æº¯ï¼šCreate(DashedLine(child_pos, parent_pos, color='#94a3b8')), run_time=0.3",
          "5. wait(0.3)"
        ],
        "backtrack_rule": {
          "inorder": "è®¿é—®å·¦å­èŠ‚ç‚¹åå›æº¯åˆ°çˆ¶èŠ‚ç‚¹ï¼ˆè™šçº¿ç®­å¤´ï¼‰ï¼Œè®¿é—®å³å­èŠ‚ç‚¹åä¹Ÿå›æº¯",
          "preorder": "è®¿é—®æ ¹â†’å»å·¦å­æ ‘ï¼Œå·¦å­æ ‘å¤„ç†å®Œåå›æº¯ï¼Œå†å»å³å­æ ‘",
          "postorder": "å·¦å­æ ‘å’Œå³å­æ ‘éƒ½å¤„ç†å®Œæ‰è®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆå›æº¯æ›´é¢‘ç¹ï¼‰"
        },
        "note": "visit_badge ç”¨ self.visit_badge(order_num, node.get_center()) åˆ›å»ºï¼Œå­˜å…¥ self._badges"
      }
    },
    {
      "id": "result",
      "segment_no": 6,
      "type": "tree_result",
      "duration_hint_s": "7~10",
      "narration": "FILL_IN_æè¿°æœ€ç»ˆç»“æœã€‚æŠ¥å‡ºå®Œæ•´éå†é¡ºåºã€‚",
      "narration_examples": {
        "inorder_5nodes": "ä¸­åºéå†å®Œæˆï¼è®¿é—®é¡ºåºæ˜¯ï¼š4ã€2ã€5ã€1ã€3ã€‚æ‰€æœ‰èŠ‚ç‚¹éƒ½å˜æˆç»¿è‰²äº†ï¼",
        "preorder_5nodes": "å‰åºéå†å®Œæˆï¼è®¿é—®é¡ºåºæ˜¯ï¼š1ã€2ã€4ã€5ã€3ã€‚"
      },
      "visual": {
        "layout": "æ ‘å½¢ä¿ç•™ï¼Œæ‰€æœ‰èŠ‚ç‚¹å˜ç»¿è‰²ï¼Œåº•éƒ¨æ˜¾ç¤ºç»“æœæ•°ç»„",
        "elements": [
          {
            "role": "æ‰€æœ‰èŠ‚ç‚¹å˜ç»¿",
            "action": "AnimationGroup([set_node_state(n, 'result') for n in all_nodes], lag_ratio=0.1)"
          },
          {
            "role": "ç»“æœæ•°ç»„æ¡†",
            "text": "FILL_IN_ç»“æœæ•°ç»„ï¼ˆå¦‚ï¼š[ 4, 2, 5, 1, 3 ]ï¼‰",
            "style": "result_box(text, font_size=28)ï¼Œto_edge(DOWN, buff=0.8)"
          }
        ],
        "animation_sequence": [
          "AnimationGroup æ‰€æœ‰èŠ‚ç‚¹å˜ç»¿, run_time=0.8",
          "DrawBorderThenFill(ç»“æœæ¡†), run_time=0.4",
          "FadeIn(ç»“æœæ–‡å­—), run_time=0.4",
          "wait(çº¦5ç§’)"
        ],
        "note": "å°† all_nodesã€self._badgesã€ç»“æœæ¡†ç»„åˆæˆ self._result_grpï¼Œä¾› _summary æ¸…é™¤"
      }
    },
    {
      "id": "summary",
      "segment_no": 7,
      "type": "answer_reveal",
      "duration_hint_s": "10~14",
      "narration": "FILL_IN_æ€»ç»“ç­”æ¡ˆå’Œå…³é”®è§„åˆ™ã€‚ä¸è¶…è¿‡50å­—ã€‚",
      "narration_examples": {
        "inorder": "ä¸­åºéå†çš„ç­”æ¡ˆæ˜¯4ã€2ã€5ã€1ã€3ã€‚è®°ä½å£è¯€ï¼šå·¦â†’æ ¹â†’å³ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œnæ˜¯èŠ‚ç‚¹æ€»æ•°ã€‚",
        "preorder": "å‰åºéå†çš„ç­”æ¡ˆæ˜¯1ã€2ã€4ã€5ã€3ã€‚å£è¯€ï¼šæ ¹â†’å·¦â†’å³ï¼Œæ—¶é—´å¤æ‚åº¦O(n)ã€‚"
      },
      "visual": {
        "layout": "æ¸…ç©ºå‰ä¸€æ®µï¼Œå±…ä¸­é“ºæ»¡",
        "elements": [
          {
            "role": "é—®é¢˜å›é¡¾",
            "text": "FILL_IN_é—®é¢˜å›é¡¾ï¼ˆå¦‚ï¼šä¸­åºéå†ç»“æœ =ï¼‰",
            "style": "font_size=34, C_MUTEDï¼Œmove_to(UP*1.8)"
          },
          {
            "role": "å¤§å·ç­”æ¡ˆ",
            "text": "FILL_IN_æœ€ç»ˆç­”æ¡ˆï¼ˆå¦‚ï¼š[ 4, 2, 5, 1, 3 ]ï¼‰",
            "style": "result_box(text, font_size=50)"
          },
          {
            "role": "å…³é”®æç¤º",
            "text": "FILL_IN_å£è¯€+å¤æ‚åº¦ï¼ˆå¦‚ï¼šğŸ’¡ å·¦â†’æ ¹â†’å³ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ï¼‰",
            "style": "insight_box(text)"
          }
        ],
        "animation_sequence": [
          "FadeOut(self._result_grp), run_time=0.5",
          "FadeIn(é—®é¢˜å›é¡¾, shift=UP*0.3), run_time=0.5",
          "DrawBorderThenFill(ç­”æ¡ˆæ¡†), run_time=0.5",
          "FadeIn(å¤§å·ç­”æ¡ˆ), run_time=0.5",
          "DrawBorderThenFill(æç¤ºæ¡†), run_time=0.4",
          "FadeIn(æç¤ºæ–‡å­—), run_time=0.4",
          "wait(çº¦8ç§’)"
        ]
      }
    }
  ]
}
