[
  {
    "id": "intro",
    "segment_no": 1,
    "type": "title_card",
    "duration_hint_s": "4~6",
    "narration": "ã€æ—ç™½ã€‘ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œç®—æ³•åç§°ã€ï¼Œå£è¯€æ˜¯ï¼šXXXã€‚",
    "visual": {
      "layout": "å±…ä¸­é“ºæ»¡",
      "elements": [
        {
          "role": "ä¸»æ ‡é¢˜",
          "text": "ç®—æ³•åç§°ï¼ˆå¦‚ï¼šäºŒå‰æ ‘ä¸­åºéå†ï¼‰",
          "style": "font_size=52, BOLD, WHITE"
        },
        {
          "role": "å‰¯æ ‡é¢˜/å£è¯€",
          "text": "å£è¯€ï¼ˆå¦‚ï¼šå·¦ â†’ æ ¹ â†’ å³ï¼‰",
          "style": "font_size=28, C_MUTEDï¼Œåœ¨ä¸»æ ‡é¢˜ä¸‹æ–¹ buff=0.5"
        }
      ],
      "animation_sequence": [
        "FadeIn(ä¸»æ ‡é¢˜, shift=UP*0.3), run_time=0.8",
        "FadeIn(å‰¯æ ‡é¢˜), run_time=0.5",
        "wait(çº¦3ç§’)",
        "FadeOut(VGroup)"
      ]
    }
  },
  {
    "id": "problem",
    "segment_no": 2,
    "type": "text_card",
    "duration_hint_s": "10~16",
    "narration": "ã€æ—ç™½ã€‘å®Œæ•´æœ—è¯»é¢˜ç›®ï¼šæ•°æ®ç»“æ„æè¿°ã€å·²çŸ¥æ¡ä»¶å’Œé—®é¢˜ã€‚",
    "visual": {
      "layout": "å±…ä¸­å¸¦åœ†è§’æ·±è“å¡ç‰‡ fill=#1e3a5f stroke=#3b82f6",
      "elements": [
        {
          "role": "è§’æ ‡ç­¾",
          "text": "é¢˜  ç›®",
          "style": "font_size=18, C_MUTED, BOLDï¼Œto_corner(UL, buff=0.5)"
        },
        {
          "role": "é¢˜ç›®æ–‡æœ¬",
          "lines": [
            "ç¬¬ä¸€è¡Œï¼šæè¿°æ•°æ®ç»“æ„ï¼ˆå¦‚ï¼šç»™å®šä¸€æ£µäºŒå‰æ ‘ï¼Œæ ¹èŠ‚ç‚¹å€¼ä¸º1ï¼‰",
            "ç¬¬äºŒè¡Œï¼šè¡¥å……æ¡ä»¶ï¼ˆå¦‚ï¼šå·¦å­èŠ‚ç‚¹å€¼ä¸º2ï¼Œå³å­èŠ‚ç‚¹å€¼ä¸º3ï¼‰",
            "ç¬¬ä¸‰è¡Œï¼šæ±‚ä»€ä¹ˆï¼ˆå¦‚ï¼šè¯·å†™å‡ºä¸­åºéå†çš„ç»“æœï¼‰"
          ],
          "style": "font_size=26, C_TEXT, å·¦å¯¹é½ï¼Œè¡Œé—´è·0.35"
        }
      ],
      "animation_sequence": [
        "FadeIn(è§’æ ‡ç­¾), run_time=0.3",
        "DrawBorderThenFill(å¡ç‰‡èƒŒæ™¯), run_time=0.6",
        "FadeIn(é¢˜ç›®æ–‡æœ¬, shift=UP*0.1), run_time=0.8",
        "wait(çº¦10ç§’)",
        "FadeOut(å…¨éƒ¨), run_time=0.5"
      ]
    }
  },
  {
    "id": "draw",
    "segment_no": 3,
    "type": "data_structure_draw",
    "duration_hint_s": "7~10",
    "narration": "ã€æ—ç™½ã€‘æˆ‘ä»¬å…ˆæŠŠæ•°æ®ç»“æ„ç”»å‡ºæ¥ã€‚æè¿°å„èŠ‚ç‚¹/å…ƒç´ åŠå…¶å…³ç³»ã€‚",
    "visual": {
      "layout": "æ ¹æ®ç®—æ³•ç±»å‹é€‰æ‹©ï¼šæ ‘å½¢å±…ä¸­åå·¦(-1.5,0) / é“¾è¡¨æ°´å¹³å±…ä¸­ / æ•°ç»„æ°´å¹³å±…ä¸­",
      "coordinate_system": "Manim åæ ‡ï¼ŒèŠ‚ç‚¹é—´è·1.2~1.5å•ä½",
      "elements": [
        {
          "role": "èŠ‚ç‚¹/å…ƒç´ ï¼ˆæŒ‰ç®—æ³•ç±»å‹é€‰æ‹©ï¼‰",
          "binary_tree": "Circle(r=0.35, fill=C_NODE_DEFAULT) + Text(val)ï¼Œä½ç½®ç”±coordså­—æ®µç¡®å®š",
          "linked_list": "RoundedRectangle(0.8Ã—0.6, fill=C_NODE_DEFAULT) + Text(val)ï¼Œæ°´å¹³æ’åˆ—",
          "binary_search": "Square(0.7, fill=C_NODE_DEFAULT) + Text(val)ï¼Œæ°´å¹³æ’åˆ— + ä¸‹æ–¹ç´¢å¼•æ ‡ç­¾",
          "graph": "Circle(r=0.4, fill=C_NODE_DEFAULT) + Text(id)ï¼Œä½ç½®ç”±coordså­—æ®µç¡®å®š",
          "sorting": "Square(0.7, fill=C_NODE_DEFAULT) + Text(val)ï¼Œæ°´å¹³æ’åˆ—"
        },
        {
          "role": "è¾¹/æŒ‡é’ˆï¼ˆæŒ‰ç®—æ³•ç±»å‹é€‰æ‹©ï¼‰",
          "binary_tree": "Line(parent_pos, child_pos, color=C_EDGE_DEFAULT)",
          "linked_list": "Arrow(node_right, next_left, color=C_EDGE_DEFAULT) + Text('null') å°¾éƒ¨",
          "binary_search": "æ— è¾¹ï¼Œä»…æ•°ç»„æ ¼",
          "graph": "Arrowï¼ˆæœ‰å‘ï¼‰æˆ– Lineï¼ˆæ— å‘ï¼‰ï¼Œæƒé‡ Text(w) æ”¾è¾¹ä¸­ç‚¹æ—",
          "sorting": "æ— è¾¹ï¼Œä»…æ•°ç»„æ ¼"
        }
      ],
      "animation_sequence": [
        "æŒ‰å±‚æ¬¡/ä»å·¦åˆ°å³é€æ­¥ Create æˆ– FadeIn å„èŠ‚ç‚¹/å…ƒç´ ",
        "Create å„è¾¹/æŒ‡é’ˆ",
        "wait(çº¦5ç§’)",
        "æ³¨æ„ï¼šæœ¬æ®µå¯¹è±¡å…¨éƒ¨å­˜å…¥ self._tree_nodes / self._list_nodes / self._cells / self._graph_nodes"
      ],
      "note": "æœ¬æ®µå‡ ä½•å¯¹è±¡å¿…é¡»å…¨éƒ¨å­˜å…¥å¯¹åº” self._xxx å±æ€§ï¼Œä¾› operation_1/2/result æ®µä½¿ç”¨"
    }
  },
  {
    "id": "operation_1",
    "segment_no": 4,
    "type": "algo_init",
    "duration_hint_s": "7~10",
    "narration": "ã€æ—ç™½ã€‘æè¿°ç®—æ³•èµ·å§‹ï¼šä»å“ªé‡Œå¼€å§‹ï¼Œåˆå§‹åŒ–ä»€ä¹ˆæ•°æ®ç»“æ„ã€‚",
    "visual": {
      "layout": "æ•°æ®ç»“æ„å›¾ä¿ç•™ï¼Œå³ä¾§æˆ–ä¸‹æ–¹æ˜¾ç¤ºç®—æ³•åˆå§‹çŠ¶æ€",
      "elements": [
        {
          "role": "èµ·å§‹èŠ‚ç‚¹/å…ƒç´ é«˜äº®",
          "style": "set_fill(C_NODE_CURRENT).set_stroke(C_EDGE_ACTIVE) + Indicate(scale=1.3)"
        },
        {
          "role": "æŒ‡é’ˆ/é˜Ÿåˆ—/æ ˆ/å·¦å³è¾¹ç•Œï¼ˆæŒ‰ç®—æ³•ç±»å‹ï¼‰",
          "binary_tree": "Arrowâ†“ ä»æ ¹èŠ‚ç‚¹ä¸Šæ–¹æŒ‡å‘æ ¹èŠ‚ç‚¹ + Text('start')",
          "linked_list": "Arrowâ†“ ä» head ä¸Šæ–¹æŒ‡å‘å¤´èŠ‚ç‚¹ + Text('head'), Text('curr')",
          "binary_search": "Arrowâ†‘ ä» index=0 ä¸‹æ–¹æŒ‡å‘ + Text('left')ï¼Œindex=n-1 + Text('right')",
          "graph": "é«˜äº®èµ·ç‚¹ + å³ä¾§æ˜¾ç¤ºé˜Ÿåˆ—/æ ˆåˆå§‹çŠ¶æ€æ¡†",
          "sorting": "Text('ç¬¬1è½®') æ ‡ç­¾ï¼ŒæŒ‡é’ˆä»ç¬¬ä¸€æ ¼å¼€å§‹"
        },
        {
          "role": "è¯´æ˜æ–‡å­—",
          "text": "å¦‚ã€Œä»æ ¹èŠ‚ç‚¹1å¼€å§‹ï¼ã€",
          "style": "font_size=24, C_AMBER_STK, BOLD, to_edge(DOWN, buff=0.5)"
        }
      ],
      "animation_sequence": [
        "Indicate(èµ·å§‹èŠ‚ç‚¹, scale_factor=1.3), run_time=0.5",
        "set_fill(C_NODE_CURRENT)",
        "FadeIn(æŒ‡é’ˆ/æ•°æ®ç»“æ„æ¡†)",
        "FadeIn(è¯´æ˜æ–‡å­—)",
        "wait(çº¦4ç§’)"
      ]
    }
  },
  {
    "id": "operation_2",
    "segment_no": 5,
    "type": "algo_steps",
    "duration_hint_s": "14~20",
    "narration": "ã€æ—ç™½ã€‘é€æ­¥è®²è§£ç®—æ³•æ‰§è¡Œè¿‡ç¨‹ï¼Œè¯´æ˜æ¯ä¸€æ­¥çš„çŠ¶æ€å˜åŒ–ã€‚å­—æ•°ä¸Šé™80å­—ã€‚",
    "visual": {
      "layout": "æ•°æ®ç»“æ„å›¾ä¿ç•™ï¼ŒåŠ¨æ€é«˜äº®å½“å‰æ“ä½œèŠ‚ç‚¹/å…ƒç´ ",
      "algorithm_specific": {
        "binary_tree": {
          "current_node": "set_fill(C_NODE_CURRENT) + Indicate(scale=1.3)",
          "visited_node": "set_fill(C_NODE_VISITED)ï¼Œæ—è¾¹ FadeIn é¡ºåºç¼–å·â‘ â‘¡â‘¢",
          "backtrack": "DashedLine(childâ†’parent, color='#94a3b8')ï¼Œå½“å‰èŠ‚ç‚¹å˜ C_NODE_CURRENT",
          "traversal_order": "animation_sequence ä¸­åˆ—å‡ºå„èŠ‚ç‚¹è®¿é—®é¡ºåº"
        },
        "linked_list": {
          "current_node": "set_fill(C_NODE_CURRENT)",
          "pointer_move": "Arrow.animate.shift(RIGHT*1.4)ï¼ŒæŒ‡é’ˆæ ‡ç­¾åŒæ­¥ç§»åŠ¨",
          "insert": "FadeIn(æ–°èŠ‚ç‚¹ from shift=DOWN*0.5)ï¼Œæ—§Arrow FadeOutï¼Œæ–°Arrow Create",
          "delete": "FadeOut(èŠ‚ç‚¹+ä¸¤ä¾§Arrow)ï¼Œæ–°è¿æ¥Arrow Create"
        },
        "binary_search": {
          "mid_highlight": "cells[mid].animate.set_fill(C_RANGE_MID)",
          "compare_show": "Text(æ¯”è¾ƒç¬¦å·) FadeIn åœ¨ mid æ ¼ä¸Šæ–¹ï¼Œwait(0.5)ï¼ŒFadeOut",
          "range_mask": "Rectangle(fill=C_RANGE_L/R, opacity=0.45) è¦†ç›–æ’é™¤åŒºé—´",
          "update_pointer": "left/right Arrow.animate.move_to(æ–°ä½ç½®)"
        },
        "graph_bfs": {
          "wave_expand": "AnimationGroup([Indicate(n) for n in level], lag_ratio=0.2)",
          "mark_visited": "set_fill(C_NODE_VISITED)",
          "queue_update": "FadeOut(æ—§é˜Ÿåˆ—å†…å®¹) + FadeIn(æ–°é˜Ÿåˆ—å†…å®¹)"
        },
        "graph_dfs": {
          "explore_edge": "edge.animate.set_stroke(C_EDGE_ACTIVE)",
          "backtrack_edge": "edge.animate.set_stroke('#94a3b8')"
        },
        "sorting": {
          "compare_pair": "ä¸¤æ ¼åŒæ—¶ set_fill(C_SORT_CMP)ï¼Œæ˜¾ç¤ºæ¯”è¾ƒç¬¦å·",
          "swap": "a.animate.shift(RIGHT*0.7), b.animate.shift(LEFT*0.7)ï¼Œset_fill(C_SORT_SWAP)",
          "mark_done": "set_fill(C_SORT_DONE)"
        }
      },
      "animation_sequence": [
        "æŒ‰é¢˜ç›®çš„å…·ä½“æ“ä½œæ­¥éª¤é€ä¸€åˆ—å‡ºåŠ¨ç”»åŠ¨ä½œ",
        "æ¯ä¸ªå…³é”®çŠ¶æ€å˜åŒ–å¯¹åº”ä¸€è¡Œ self.play()",
        "é€‚å½“ä½¿ç”¨ self.wait(0.5) åˆ†éš”æ­¥éª¤ï¼Œè®©è§‚ä¼—è·Ÿä¸ŠèŠ‚å¥"
      ],
      "note": "æœ¬æ®µæ˜¯è§†é¢‘æ ¸å¿ƒï¼ŒåŠ¨ç”»æ­¥éª¤éœ€ä¸ narration text çš„æè¿°é¡ºåºå®Œå…¨å¯¹åº”"
    }
  },
  {
    "id": "result",
    "segment_no": 6,
    "type": "show_result",
    "duration_hint_s": "7~10",
    "narration": "ã€æ—ç™½ã€‘æè¿°æœ€ç»ˆç»“æœï¼šéå†é¡ºåº/æ‰¾åˆ°çš„ä½ç½®/æ’åºå®Œæˆçš„æ•°ç»„ã€‚",
    "visual": {
      "layout": "æ•°æ®ç»“æ„å›¾ä¿ç•™ï¼ˆèŠ‚ç‚¹å˜ C_NODE_RESULT ç»¿è‰²ï¼‰ï¼Œåº•éƒ¨æˆ–å³ä¾§æ˜¾ç¤ºç»“æœ",
      "elements": [
        {
          "role": "æ‰€æœ‰èŠ‚ç‚¹/å…ƒç´ å˜ç»“æœè‰²",
          "style": "set_fill(C_NODE_RESULT)ï¼ŒAnimationGroup lag_ratio=0.1"
        },
        {
          "role": "ç»“æœæ˜¾ç¤º",
          "binary_tree": "åº•éƒ¨ FadeIn RoundedRectangle + Text('[v1, v2, v3, ...]')",
          "binary_search": "ç›®æ ‡æ ¼å•ç‹¬é«˜äº® + Text('æ‰¾åˆ°äº†ï¼ç´¢å¼• = X')",
          "linked_list": "æ–°é“¾è¡¨çŠ¶æ€æœ€ç»ˆå±•ç¤º",
          "sorting": "å…¨éƒ¨æ ¼å˜ç»¿è‰² + æ˜¾ç¤ºå·²æ’åºæ•°ç»„",
          "style": "font_size=28, C_GREEN, BOLDï¼›åœ†è§’æ¡† fill=C_GREEN_DARK"
        }
      ],
      "animation_sequence": [
        "AnimationGroup([node.animate.set_fill(C_NODE_RESULT) for node in all_nodes], lag_ratio=0.15)",
        "DrawBorderThenFill(ç»“æœæ¡†)",
        "FadeIn(ç»“æœæ–‡å­—)",
        "wait(çº¦5ç§’)"
      ]
    }
  },
  {
    "id": "summary",
    "segment_no": 7,
    "type": "answer_reveal",
    "duration_hint_s": "10~14",
    "narration": "ã€æ—ç™½ã€‘æ€»ç»“ï¼šæŠ¥å‡ºæœ€ç»ˆç­”æ¡ˆï¼Œè¯´æ˜å…³é”®è§„åˆ™å’Œæ—¶é—´å¤æ‚åº¦ã€‚",
    "visual": {
      "layout": "æ¸…ç©ºå‰ä¸€æ®µï¼Œå±…ä¸­é“ºæ»¡",
      "elements": [
        {
          "role": "é—®é¢˜å›é¡¾",
          "text": "å¦‚ã€Œä¸­åºéå†ç»“æœ =ã€",
          "style": "font_size=34, C_MUTEDï¼Œå±…ä¸­åä¸Š UP*1.8"
        },
        {
          "role": "å¤§å·ç­”æ¡ˆ",
          "text": "å¦‚ã€Œ[4, 2, 5, 1, 3]ã€",
          "style": "font_size=56, C_GREEN, BOLDï¼›ç»¿è‰²åœ†è§’æ¡† fill=C_GREEN_DARK"
        },
        {
          "role": "å…³é”®è§„åˆ™æç¤ºæ¡†",
          "text": "å¦‚ã€ŒğŸ’¡ å·¦â†’æ ¹â†’å³ï¼Œæ—¶é—´å¤æ‚åº¦ O(n)ã€",
          "style": "font_size=22, C_AMBER_STKï¼›æ©™è‰²åœ†è§’æ¡† fill=C_ORANGE_DARK"
        }
      ],
      "animation_sequence": [
        "FadeIn(é—®é¢˜å›é¡¾, shift=UP*0.3), run_time=0.5",
        "DrawBorderThenFill(ç­”æ¡ˆæ¡†), run_time=0.5",
        "FadeIn(å¤§å·ç­”æ¡ˆ), run_time=0.6",
        "DrawBorderThenFill(æç¤ºæ¡†), run_time=0.4",
        "FadeIn(æç¤ºæ–‡å­—), run_time=0.4",
        "wait(çº¦8ç§’)"
      ]
    }
  }
]
