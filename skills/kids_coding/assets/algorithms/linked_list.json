{
  "_comment": "é“¾è¡¨ç®—æ³•åˆ†é•œæ¨¡æ¿ â€” é€‚ç”¨äºï¼šé“¾è¡¨éå†ã€åè½¬ã€æ’å…¥èŠ‚ç‚¹ã€åˆ é™¤èŠ‚ç‚¹ã€åŒæŒ‡é’ˆ",
  "_usage": "å°†æ­¤æ¨¡æ¿å¡«å…¥ storyboard.jsonï¼Œæ›¿æ¢æ‰€æœ‰ FILL_IN å ä½ç¬¦",
  "title": "FILL_IN_é¢˜ç›®åç§°ï¼ˆå¦‚ï¼šé“¾è¡¨åè½¬ï¼‰",
  "subject": "ç®—æ³•",
  "algorithm_type": "linked_list",
  "operation": "FILL_INï¼ˆreverse/insert/delete/traversal/two_pointerï¼‰",
  "segments": [
    {
      "id": "intro",
      "segment_no": 1,
      "type": "title_card",
      "duration_hint_s": "4~6",
      "narration": "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€ŒFILL_IN_ç®—æ³•åã€ï¼Œå£è¯€æ˜¯ï¼šFILL_IN_å£è¯€ã€‚",
      "narration_examples": {
        "reverse":     "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œé“¾è¡¨åè½¬ã€ï¼Œå£è¯€æ˜¯ï¼šæ–­å¼€ã€è°ƒå¤´ã€é‡è¿ã€‚",
        "insert":      "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œé“¾è¡¨æ’å…¥èŠ‚ç‚¹ã€ï¼Œå£è¯€æ˜¯ï¼šæ‰¾åˆ°ä½ç½®ã€æ¥å¥½å‰åä¸¤ä¸ªæŒ‡é’ˆã€‚",
        "delete":      "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œé“¾è¡¨åˆ é™¤èŠ‚ç‚¹ã€ï¼Œå£è¯€æ˜¯ï¼šè·³è¿‡ç›®æ ‡ã€ç›´æ¥è¿æ¥ã€‚",
        "two_pointer": "ä»Šå¤©æˆ‘ä»¬æ¥å­¦ä¹ ã€Œé“¾è¡¨åŒæŒ‡é’ˆã€ï¼Œå£è¯€æ˜¯ï¼šå¿«æ…¢åŒè¡Œï¼Œå¿«åˆ°ç»ˆç‚¹æ—¶æ…¢æŒ‡é’ˆå°±æ˜¯ç­”æ¡ˆã€‚"
      },
      "visual": {
        "layout": "å±…ä¸­é“ºæ»¡",
        "elements": [
          {"role": "ä¸»æ ‡é¢˜", "text": "FILL_IN_ç®—æ³•åç§°", "style": "font_size=52, BOLD, WHITE"},
          {"role": "å‰¯æ ‡é¢˜/å£è¯€", "text": "FILL_IN_å£è¯€", "style": "font_size=28, C_MUTED"}
        ],
        "animation_sequence": [
          "FadeIn(ä¸»æ ‡é¢˜, shift=UP*0.3), run_time=0.8",
          "FadeIn(å‰¯æ ‡é¢˜), run_time=0.5",
          "wait(çº¦3ç§’)",
          "FadeOut(VGroup)"
        ]
      }
    },
    {
      "id": "problem",
      "segment_no": 2,
      "type": "text_card",
      "duration_hint_s": "10~16",
      "narration": "FILL_IN_å®Œæ•´æœ—è¯»é¢˜ç›®ã€‚è¯´æ˜é“¾è¡¨ç»“æ„å’Œéœ€è¦å®Œæˆçš„æ“ä½œã€‚",
      "narration_examples": {
        "reverse": "ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼š1â†’2â†’3â†’4â†’5â†’nullã€‚è¯·æŠŠè¿™ä¸ªé“¾è¡¨åè½¬ï¼Œå˜æˆ5â†’4â†’3â†’2â†’1â†’nullã€‚",
        "insert":  "ç»™å®šé“¾è¡¨1â†’3â†’5ï¼Œåœ¨å€¼ä¸º3çš„èŠ‚ç‚¹åé¢æ’å…¥ä¸€ä¸ªå€¼ä¸º4çš„æ–°èŠ‚ç‚¹ï¼Œå¾—åˆ°1â†’3â†’4â†’5ã€‚"
      },
      "visual": {
        "layout": "å±…ä¸­å¸¦åœ†è§’æ·±è“å¡ç‰‡",
        "card_style": "fill=#1e3a5f, stroke=#3b82f6",
        "elements": [
          {"role": "è§’æ ‡ç­¾", "text": "é¢˜  ç›®", "style": "font_size=18, C_MUTED, to_corner(UL)"},
          {
            "role": "é¢˜ç›®æ–‡æœ¬",
            "lines": [
              "FILL_IN_ç¬¬ä¸€è¡Œï¼ˆå¦‚ï¼šç»™å®šé“¾è¡¨ï¼š1â†’2â†’3â†’4â†’5â†’nullï¼‰",
              "FILL_IN_ç¬¬äºŒè¡Œï¼ˆå¦‚ï¼šè¯·æŠŠè¿™ä¸ªé“¾è¡¨å®Œå…¨åè½¬ï¼‰",
              "FILL_IN_ç¬¬ä¸‰è¡Œï¼ˆå¦‚ï¼šè¾“å‡ºï¼š5â†’4â†’3â†’2â†’1â†’nullï¼‰"
            ],
            "style": "font_size=26, C_TEXT, å·¦å¯¹é½, è¡Œé—´è·0.35"
          }
        ],
        "animation_sequence": [
          "FadeIn(è§’æ ‡ç­¾)",
          "DrawBorderThenFill(å¡ç‰‡)",
          "FadeIn(æ–‡å­—, shift=UP*0.1)",
          "wait(çº¦10ç§’)",
          "FadeOut(å…¨éƒ¨)"
        ]
      }
    },
    {
      "id": "draw",
      "segment_no": 3,
      "type": "list_draw",
      "duration_hint_s": "7~10",
      "narration": "FILL_IN_æè¿°ç”»é“¾è¡¨çš„è¿‡ç¨‹ã€‚é€ä¸ªå‡ºç°èŠ‚ç‚¹ï¼Œç”¨ç®­å¤´è¿æ¥ã€‚",
      "narration_example": "æˆ‘ä»¬å…ˆæŠŠé“¾è¡¨ç”»å‡ºæ¥ã€‚èŠ‚ç‚¹1æ˜¯å¤´èŠ‚ç‚¹ï¼Œå®ƒçš„nextæŒ‡é’ˆæŒ‡å‘èŠ‚ç‚¹2ï¼Œç„¶åæ˜¯3ã€4ã€5ï¼Œæœ€åæŒ‡å‘nullã€‚",
      "visual": {
        "layout": "é“¾è¡¨æ°´å¹³æ’åˆ—ï¼Œæ•´ä½“å±…ä¸­ï¼Œy=0",
        "coordinate_system": "èŠ‚ç‚¹å®½0.8é«˜0.6ï¼ŒèŠ‚ç‚¹é—´è·1.4 Manimå•ä½",
        "manim_objects": {
          "node":     "make_list_node(val, pos)  â†’ VGroup(RoundedRect, Text(val))",
          "arrow":    "make_list_arrow(from_node, to_node)  â†’ Arrow",
          "null":     "self.tx('null', font_size=18, color=C_MUTED).next_to(last_node, RIGHT, buff=0.5)",
          "head_ptr": "make_pointer_arrow(nodes[0], 'head')  â†’ VGroup(Arrowâ†“, Text('head'))",
          "storage":  "self._list_nodes = [node_VGroup, ...]ï¼Œself._list_arrows = [Arrow, ...]"
        },
        "layout_formula": {
          "n_nodes": "n = len(vals)",
          "start_x": "-(n-1) * 0.7  # å±…ä¸­",
          "node_x":  "start_x + i * 1.4"
        },
        "animation_sequence": [
          "self.play(*[FadeIn(n) for n in self._list_nodes], run_time=0.8)",
          "self.play(*[Create(a) for a in self._list_arrows], FadeIn(null_txt), run_time=0.6)",
          "self.play(FadeIn(head_ptr), run_time=0.4)",
          "wait(çº¦5ç§’)"
        ],
        "note": "self._list_nodesã€self._list_arrowsã€head_ptr å¿…é¡»åœ¨æ­¤æ®µæœ«èµ‹å€¼"
      }
    },
    {
      "id": "operation_1",
      "segment_no": 4,
      "type": "list_pointer_init",
      "duration_hint_s": "7~10",
      "narration": "FILL_IN_æè¿°åˆå§‹åŒ–æŒ‡é’ˆçš„è¿‡ç¨‹ã€‚è¯´æ˜å„æŒ‡é’ˆçš„åˆå§‹ä½ç½®å’Œå«ä¹‰ã€‚",
      "narration_examples": {
        "reverse":     "åè½¬é“¾è¡¨éœ€è¦ä¸‰ä¸ªæŒ‡é’ˆï¼šprevæŒ‡å‘nullï¼ŒcurræŒ‡å‘å¤´èŠ‚ç‚¹1ï¼Œnextæ˜¯ä¸´æ—¶ä¿å­˜ç”¨çš„ã€‚æˆ‘ä»¬ä»å¤´èŠ‚ç‚¹å¼€å§‹æ“ä½œã€‚",
        "insert":      "æ’å…¥èŠ‚ç‚¹éœ€è¦æ‰¾åˆ°æ’å…¥ä½ç½®ã€‚curræŒ‡é’ˆä»å¤´èŠ‚ç‚¹å‡ºå‘ï¼Œä¸€æ­¥ä¸€æ­¥å¾€å³èµ°ï¼Œç›´åˆ°æ‰¾åˆ°å€¼ä¸º3çš„èŠ‚ç‚¹ã€‚",
        "two_pointer": "åŒæŒ‡é’ˆæ–¹æ³•ï¼šslowæŒ‡é’ˆå’ŒfastæŒ‡é’ˆéƒ½ä»å¤´èŠ‚ç‚¹å‡ºå‘ï¼Œfastæ¯”slowå¿«ä¸€æ­¥ã€‚"
      },
      "visual": {
        "layout": "é“¾è¡¨ä¿ç•™ï¼ŒæŒ‡é’ˆç®­å¤´ä»èŠ‚ç‚¹ä¸Šæ–¹å‘ä¸‹",
        "pointer_styles": {
          "prev":  "make_pointer_arrow(target, 'prev', color=C_RANGE_L)  # ç´«è‰²",
          "curr":  "make_pointer_arrow(target, 'curr', color=C_POINTER)  # ç¥ç€",
          "fast":  "make_pointer_arrow(target, 'fast', color=C_NODE_RESULT)  # ç»¿è‰²",
          "slow":  "make_pointer_arrow(target, 'slow', color=C_POINTER)  # ç¥ç€"
        },
        "animation_sequence": [
          "self.play(FadeIn(prev_ptr), run_time=0.4)  # è‹¥æœ‰ prev",
          "self.play(FadeIn(curr_ptr), run_time=0.4)",
          "ç›®æ ‡èŠ‚ç‚¹å˜ C_NODE_CURRENT",
          "FadeIn(è¯´æ˜æ–‡å­—) åˆ° to_edge(DOWN)",
          "wait(çº¦5ç§’)",
          "FadeOut(è¯´æ˜æ–‡å­—)"
        ],
        "note": "å­˜å‚¨ï¼šself._curr_ptrï¼Œself._prev_ptr ç­‰ï¼Œä¾› _operation_2 æ›´æ–°ä½ç½®"
      }
    },
    {
      "id": "operation_2",
      "segment_no": 5,
      "type": "list_pointer_steps",
      "duration_hint_s": "14~20",
      "narration": "FILL_IN_é€æ­¥æè¿°é“¾è¡¨æ“ä½œè¿‡ç¨‹ã€‚è¯´æ˜æ¯ä¸€æ­¥æŒ‡é’ˆç§»åŠ¨æˆ–ç»“æ„å˜åŒ–ã€‚ä¸è¶…è¿‡80å­—ã€‚",
      "narration_examples": {
        "reverse": "ç¬¬ä¸€æ­¥ï¼ŒæŠŠcurrçš„nextæŒ‡é’ˆæ–­å¼€ï¼Œæ”¹ä¸ºæŒ‡å‘prevï¼ˆä¹Ÿå°±æ˜¯nullï¼‰ã€‚ç„¶åprevå¾€å³ç§»åˆ°èŠ‚ç‚¹1ï¼Œcurrå¾€å³ç§»åˆ°èŠ‚ç‚¹2ã€‚ç»§ç»­åŒæ ·æ“ä½œï¼Œç›´åˆ°currå˜æˆnullï¼Œåè½¬å®Œæˆï¼",
        "insert":  "curræŒ‡é’ˆæ‰¾åˆ°å€¼ä¸º3çš„èŠ‚ç‚¹åï¼Œå…ˆæŠŠæ–°èŠ‚ç‚¹çš„nextæŒ‡å‘èŠ‚ç‚¹3çš„nextï¼ˆä¹Ÿå°±æ˜¯èŠ‚ç‚¹5ï¼‰ï¼Œç„¶åæŠŠèŠ‚ç‚¹3çš„nextæ”¹ä¸ºæŒ‡å‘æ–°èŠ‚ç‚¹4ã€‚é“¾è¡¨å°±æ’å…¥æˆåŠŸäº†ï¼"
      },
      "visual": {
        "layout": "é“¾è¡¨ä¿ç•™ï¼ŒåŠ¨æ€æ›´æ–°æŒ‡é’ˆä½ç½®å’Œç®­å¤´æ–¹å‘",
        "reverse_steps": [
          "1. ä¿å­˜ next_node = curr.nextï¼ˆæ˜¾ç¤ºä¸´æ—¶ next æ ‡ç­¾ï¼‰",
          "2. æ˜¾ç¤ºæ–°ç®­å¤´ä» curr æŒ‡å‘ prevï¼ˆCreate æ–° Arrowï¼ŒFadeOut æ—§ Arrowï¼‰",
          "3. prev_ptr.animate.shift(RIGHT*1.4)ï¼ˆç§»åŠ¨ prev æŒ‡é’ˆåˆ° curr ä½ç½®ï¼‰",
          "4. curr_ptr.animate.shift(RIGHT*1.4)ï¼ˆç§»åŠ¨ curr æŒ‡é’ˆåˆ° next_node ä½ç½®ï¼‰",
          "5. å¯¹åº”èŠ‚ç‚¹é¢œè‰²ï¼šcurrèŠ‚ç‚¹â†’C_NODE_VISITEDï¼ŒprevèŠ‚ç‚¹â†’C_NODE_CURRENT",
          "6. é‡å¤ä»¥ä¸Šæ­¥éª¤ç›´åˆ° curr = null"
        ],
        "insert_steps": [
          "1. curr èŠ‚ç‚¹é«˜äº® C_NODE_CURRENTï¼Œæ˜¾ç¤º'æ‰¾åˆ°ä½ç½®ï¼'",
          "2. FadeIn(new_node) from shift=DOWN*0.5ï¼ˆæ–°èŠ‚ç‚¹ä»ä¸‹æ–¹å‡ºç°ï¼‰",
          "3. Create(new_nodeâ†’curr.next çš„ç®­å¤´) â€” æ–°èŠ‚ç‚¹çš„ next å…ˆè¿å¥½",
          "4. FadeOut(currâ†’curr.next çš„æ—§ç®­å¤´)",
          "5. Create(currâ†’new_node çš„æ–°ç®­å¤´) â€” curr.next æ”¹ä¸ºæŒ‡å‘æ–°èŠ‚ç‚¹",
          "6. new_node å˜ C_NODE_RESULT"
        ],
        "pointer_move_code": "ptr_VGroup.animate.shift(RIGHT * 1.4)  # å‘å³ç§»ä¸€ä¸ªèŠ‚ç‚¹è·ç¦»"
      }
    },
    {
      "id": "result",
      "segment_no": 6,
      "type": "list_result",
      "duration_hint_s": "7~10",
      "narration": "FILL_IN_æè¿°æ“ä½œåçš„é“¾è¡¨çŠ¶æ€ã€‚",
      "narration_examples": {
        "reverse": "åè½¬å®Œæˆï¼é“¾è¡¨å˜æˆäº†5â†’4â†’3â†’2â†’1â†’nullã€‚æ‰€æœ‰èŠ‚ç‚¹çš„ç®­å¤´éƒ½æ‰å¤´äº†ï¼",
        "insert":  "æ’å…¥æˆåŠŸï¼é“¾è¡¨å˜æˆäº†1â†’3â†’4â†’5â†’nullã€‚æ–°èŠ‚ç‚¹4å·²ç»åœ¨3å’Œ5ä¹‹é—´äº†ï¼"
      },
      "visual": {
        "layout": "æ˜¾ç¤ºæ“ä½œåçš„æœ€ç»ˆé“¾è¡¨çŠ¶æ€",
        "elements": [
          {
            "role": "æœ€ç»ˆé“¾è¡¨",
            "description": "é‡æ–°æ’åˆ—æˆ–æ›´æ–°ç°æœ‰èŠ‚ç‚¹ä½ç½®å’Œç®­å¤´ï¼Œæ‰€æœ‰èŠ‚ç‚¹å˜ C_NODE_RESULT"
          },
          {
            "role": "ç»“æœæ–‡å­—",
            "text": "FILL_IN_ç»“æœæè¿°ï¼ˆå¦‚ï¼šåè½¬å®Œæˆï¼5â†’4â†’3â†’2â†’1â†’nullï¼‰",
            "style": "result_boxï¼Œto_edge(DOWN, buff=0.8)"
          }
        ],
        "animation_sequence": [
          "AnimationGroup æ‰€æœ‰èŠ‚ç‚¹å˜ C_NODE_RESULT, lag_ratio=0.1",
          "DrawBorderThenFill(ç»“æœæ¡†)",
          "FadeIn(ç»“æœæ–‡å­—)",
          "wait(çº¦5ç§’)"
        ]
      }
    },
    {
      "id": "summary",
      "segment_no": 7,
      "type": "answer_reveal",
      "duration_hint_s": "10~14",
      "narration": "FILL_IN_æ€»ç»“ç­”æ¡ˆå’Œå…³é”®è§„åˆ™ã€‚ä¸è¶…è¿‡50å­—ã€‚",
      "narration_examples": {
        "reverse": "é“¾è¡¨åè½¬çš„å…³é”®æ˜¯ä¸‰ä¸ªæŒ‡é’ˆï¼šprevä¿å­˜å‰ä¸€ä¸ªï¼Œcurræ˜¯å½“å‰ï¼Œnextä¿å­˜ä¸‹ä¸€ä¸ªã€‚æ¯æ­¥æŠŠcurr.nextæŒ‡å‘prevï¼Œæ—¶é—´å¤æ‚åº¦O(n)ã€‚",
        "insert":  "é“¾è¡¨æ’å…¥çš„å…³é”®ï¼šå…ˆè¿æ–°èŠ‚ç‚¹çš„nextï¼Œå†æ–­å¼€åŸé“¾æ¥ã€‚æ—¶é—´å¤æ‚åº¦O(n)ï¼Œæ‰¾åˆ°ä½ç½®åæ’å…¥O(1)ã€‚"
      },
      "visual": {
        "layout": "æ¸…ç©ºå‰ä¸€æ®µï¼Œå±…ä¸­é“ºæ»¡",
        "elements": [
          {"role": "é—®é¢˜å›é¡¾", "text": "FILL_IN_é—®é¢˜å›é¡¾ï¼ˆå¦‚ï¼šåè½¬åé“¾è¡¨ =ï¼‰", "style": "font_size=34, C_MUTED"},
          {"role": "å¤§å·ç­”æ¡ˆ", "text": "FILL_IN_æœ€ç»ˆç­”æ¡ˆï¼ˆå¦‚ï¼š5â†’4â†’3â†’2â†’1â†’nullï¼‰", "style": "result_box, font_size=44"},
          {"role": "å…³é”®æç¤º", "text": "FILL_IN_ğŸ’¡å£è¯€+å¤æ‚åº¦", "style": "insight_box"}
        ],
        "animation_sequence": [
          "FadeOut(self._result_grp)",
          "FadeIn(é—®é¢˜å›é¡¾, shift=UP*0.3)",
          "DrawBorderThenFill(ç­”æ¡ˆæ¡†) + FadeIn(ç­”æ¡ˆ)",
          "DrawBorderThenFill(æç¤ºæ¡†) + FadeIn(æç¤º)",
          "wait(çº¦8ç§’)"
        ]
      }
    }
  ]
}
